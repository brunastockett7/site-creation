<main class="container">
  <h1><%= title %></h1>

  <% if (flash.error && flash.error.length) { %>
    <div class="flash error" role="alert"><%= flash.error[0] %></div>
  <% } %>
  <% if (flash.success && flash.success.length) { %>
    <div class="flash success" role="status"><%= flash.success[0] %></div>
  <% } %>

  <p>Only letters and numbers. No spaces or special characters.</p>

  <form method="post" action="/inv/add-classification" novalidate>
    <label for="classification_name">Classification Name</label>
    <input
      id="classification_name"
      name="classification_name"
      type="text"
      pattern="[A-Za-z0-9]{3,30}"
      required
      title="3â€“30 letters/numbers, no spaces"
      aria-describedby="classificationHelp"
      value="<%= values?.classification_name || '' %>"
    />
    <% if (errors?.classification_name) { %>
      <span class="error" id="classificationHelp"><%= errors.classification_name %></span>
    <% } %>

    <button type="submit">Save</button>
  </form>
</main>

<script>
  // Basic client-side validity reporting
  document.querySelector("form").addEventListener("submit", (e) => {
    if (!e.target.checkValidity()) {
      e.preventDefault();
      e.target.reportValidity();
    }
  });
</script>
